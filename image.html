<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>image</title>
  </head>
  <body>
    <div id="page-wrapper">

        <h1>Text File Reader</h1>
        <div>
            Select a text file:
            <input type="file" id="fileInput">
        </div>
        <pre id="fileDisplayArea"><pre>
          <script>
          window.onload = function() {
        var fileInput = document.getElementById('fileInput');
        var fileDisplayArea = document.getElementById('fileDisplayArea');

        fileInput.addEventListener('change', function(e) {
            var file = fileInput.files[0];
            var textType = /text.*/;

            if (file.type.match(textType)) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    fileDisplayArea.innerText = reader.result;
                    console.log(reader.result);
                    var image = new Image();
                    var source_string = `data:image/png;base64,${reader.result}`
                    image.src = source_string
;
                    document.body.appendChild(image);
                }

                reader.readAsText(file);
            } else {
                fileDisplayArea.innerText = "File not supported!"
            }
        });
}

</script>
    </div>
    <form action="/action_page.php">
  <input type="file" name="pic" accept="image/*">
  <input type="submit">
  </form>
</html>
